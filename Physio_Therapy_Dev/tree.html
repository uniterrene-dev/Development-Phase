<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="description" content="MyHealth">
    <meta name="author" content="MyHealth">
    <title>My Health </title>

    <!-- Bootstrap -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
    <link href="static/css/font-awesome.css" rel="stylesheet">
    <link href="static/css/style.css" rel="stylesheet">
    <script src="static/js/bootstrap.min.new.js"></script>

<!--link href="static/css/jquery.dataTables.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-1.12.3.js"></script>
<script src="static/js/jquery.dataTables.min.js"></script-->

  </head>

<script>
function prepareList() {
  $('#expList').find('li:has(ul)')
  	.click( function(event) {
  		if (this == event.target) {
  			$(this).toggleClass('expanded');
  			$(this).children('ul').toggle('medium');
  		}
  		return false;
  	})
  	.addClass('collapsed')
  	.children('ul').hide();
  };
 
  $(document).ready( function() {
      prepareList();
  });

        function image_select(type, value){
                var call_url = "tree.html";
                alert("type is : " + type + " value: " + value);
                $.ajax({
                        type: "POST",
                        url: call_url,
                        data: {
                                conditions: canodition,
                                bodyparts: bodyparts,
                                positions: positions,
                                purpose: purpose,
                                equipment: equipment,
                                action: 'search'
                        },
                        success: function(result){
                                console.log(result);
                                var newObject = JSON.parse(result);
                                alert(newObject.output);
                                window.location.reload(true);
                        },
                        error: function(XMLHttpRequest, textStatus, errorThrown){
                                alert("Error" +XMLHttpRequest);
                                alert("test status :" + textStatus);
                                alert(" error thrown" + errorThrown);
                        }
                });
        }

</script>

<div id="listContainer">
  <ul id="expList">
    <li onclick="image_select('item',1);" id="item_1">Item A
      <ul>
        <li onclick="image_select('item',2);" id="item_2">Item A.1
          <ul>
            <li onclick="image_select('item',3);" id="item_3">A.1.1 </li>
          </ul>
        </li>
        <li onclick="image_select('item',4);" id="item_4">Item A.2</li>
        <li onclick="image_select('item',5);" id="item_5">Item A.3
          <ul>
            <li onclick="image_select('item',6);" id="item_6">A.3.1 </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>Item B</li>
    <li>Item C
      <ul>
        <li>Item C.1</li>
        <li>Item C.2
          <ul>
            <li>C.2.1</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</div>

